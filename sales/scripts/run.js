!function(t,a){if("function"==typeof define&&define.amd)define(["exports"],a);else if("undefined"!=typeof exports)a(exports);else{var e={};a(e),t.run=e}}(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(m){var t,a,e,n,s,i,l,o,r,c,d,h,u,f,b,p,g,v,x,C,N,y=m(window),k=m(document),_=m("body");m("html").removeClass("no_js"),t=m("#js_fixedHeader"),a=t.outerHeight(),e=m('<div id="headBlankDiv"/>').height(a),t.length&&t.addClass("_isFixed").after(e),(l=m("#js_fixedItem")).length&&(n=l.offset().top,s=l.outerHeight(),i=m("<div/>").height(s).addClass("_itemBlank"),l.after(i),y.on("scroll load",function(){var t=m("._itemBlank"),a=y.scrollTop();n<=a?(l.addClass("_isFixed"),t.addClass("_isShow")):(l.removeClass("_isFixed"),t.removeClass("_isShow"))})),o=m("#js_fixedFooter"),r=o.outerHeight(),c=m("<div/>").height(r),o.length&&o.addClass("_isFixed").after(c),function(){var a=m("#js_fixedArea"),e=m("#js_fixedFooter"),n=a.height(),s=window.innerHeight,i=m("a, input, button, textarea"),l=n-s;function t(){var t=null;clearTimeout(t),t=setTimeout(function(){n=a.height(),s=window.innerHeight,l=n-s,i=m("a, input, button, textarea"),o()},300),o()}function o(){var t=y.scrollTop();l<=t?e.addClass("_isFit").removeClass("_isFixed"):e.addClass("_isFixed").removeClass("_isFit")}a.length&&e.length&&(y.on("load resize",function(){t()}),i.on("click",function(){t()}),k.on("click","a, input, button, textarea",function(){t()}),y.on("scroll load resize",function(){o()}))}(),function(){var o,r,t,n,s,i,a,e,l,c=m(".js_headerMenu"),d=c.find(".ag-gen_btnMenu"),h=m("<div/>",{class:"ag-bgMenu"}),u=m("a, button, input, textarea, select");if(c.length){for(_.prepend(h),o=m(".ag-bgMenu"),r=m(".ag-areaHeader"),t=0;t<c.length;t++)s=c.eq(t),a=(i=s.find(".ag-gen_boxMenu")).find("a, button"),e=i.outerHeight(),l=s.attr("data-menu-state"),i.attr("data-menu-height",e),"close"===l?(i.height(0),a.attr("tabindex",-1)):"open"!==l&&(l="close",c.attr("data-menu-state","close"),i.height(0),a.attr("tabindex",-1));k.on("click",function(t){m(t.target).closest(".js_headerMenu").length||function(){var t,a,e;for(n=0;n<c.length;n++)t=c.eq(n),a=s.find(".ag-gen_boxMenu"),e=i.find("a, button"),"open"===s.attr("data-menu-state")&&(t.attr("data-menu-state","close"),a.height(0),e.attr("tabindex",-1),o.removeClass("_isShow"),r.removeClass("_isDisabled"))}()}),d.on("click",function(){var t,a,e,n,s,i,l=m(this);a=(t=l).closest(".js_headerMenu"),e=a.find(".ag-gen_boxMenu"),n=e.find("a, button"),s=a.attr("data-menu-state"),i=e.attr("data-menu-height"),"open"===s?(a.attr("data-menu-state","close"),e.height(0),u.attr("tabindex",""),n.attr("tabindex",-1),o.removeClass("_isShow"),r.removeClass("_isDisabled")):(a.attr("data-menu-state","open"),e.height(i),u.attr("tabindex",-1),t.attr("tabindex",""),n.attr("tabindex",""),o.addClass("_isShow"),r.addClass("_isDisabled"))})}}(),y.on("load",function(){var i,l,o,r,t;(t=m(".js_scroll")).length&&(i=m("#js_fixedHeader"),l=i.outerHeight(),o=m("#js_fixedItem"),r=o.outerHeight(),t.on("click",function(){var t=m(this),a=m("body, html"),e=t.attr("href"),n=m("#"===e||"#top"===e||""===e?"html, body":e),s=n.offset().top;return i.length?s=n.offset().top-l:o.length&&(s=n.offset().top-r),a.animate({scrollTop:s},500,"swing"),n.attr("tabindex",-1).focus(),n.attr("tabindex",""),!1}))}),y.on("load",function(){!function(){var a,t,e,n,s,i,l=m(".js_ancList");if(l.length){for(a=m(".js_ancPosi"),t=null,e=[],n=0;n<a.length;n++)i=a.eq(n).offset().top,e.push(i);y.on("scroll load",function(){clearTimeout(t),t=setTimeout(function(){var t=y.scrollTop()+a.outerHeight()+100;for(s=e.length-1;0<=s;s--){if(t>e[s]){l.children().removeClass("current").eq(s).addClass("current");break}t<e[0]&&l.children().removeClass("current").eq(0).addClass("current")}},100)})}}()}),0!==(h=m(".js_tglItem")).length&&(d={open:"閉じる",close:"開く"},function(){var t,a,e,n,s,i,l,o,r=m("<span/>",{class:"icon"}).text(d.close),c=m("<span/>",{class:"icon"}).text(d.open);for(t=0;t<h.length;t++)n=(e=(a=h.eq(t)).children(".tglHook")).html(),i=(s=a.children(".tglContents")).height(),l=s.attr("aria-hidden"),e.data("tabindex")?e.html('<button tabIndex="'+e.data("tabindex")+'" id="toggleButton" name="toggleButton" type="button">'+n+"</button>").attr("aria-controls","ariaTgl"+t):e.html('<button id="toggleButton" name="toggleButton" type="button">'+n+"</button>").attr("aria-controls","ariaTgl"+t),o=e.children("button"),s.attr("data-tgl-height",i).attr("id","ariaTgl"+t),"false"===l?(s.height(i),c.clone().appendTo(o),o.attr("aria-expanded",!0).children(".icon").text(d.open)):(s.height(0).attr("aria-hidden",!0),r.clone().appendTo(o),o.attr("aria-expanded",!1)),s.addClass("_trans")}(),h.children(".tglHook").children("button").on("click",function(){var t,a=m(this),e=a.closest(".js_tglItem"),n=a.attr("aria-expanded"),s=e.children(".tglContents");"true"===n?(s.height(0).attr("aria-hidden",!0),a.attr("aria-expanded",!1).children(".icon").text(d.close)):(t=s.attr("data-tgl-height"),s.height(t).attr("aria-hidden",!1),a.attr("aria-expanded",!0).children(".icon").text(d.open))})),(f=m(".js_tglPnl")).length&&(u=f.find(".js_tglHook"),f.find(".pnl").attr("aria-hidden",!0).hide(),u.on("click",function(){var t=m(this).closest(".js_tglPnl").find(".pnl");"true"===t.attr("aria-hidden")?t.attr("aria-hidden",!1).show():t.attr("aria-hidden",!0).hide()})),p=m(".js_radioTglHook"),g=!1,p.length&&(b=m(".js_radioTglPnl"),p.change(function(){var t,a,e=m(this).data("radio-tgl"),n=e[0],s=e[1];for(t=0;t<b.length;t++)n===(a=b.eq(t)).data("radio-tgl")&&(a.attr("aria-hidden",g),"show"===s?(a.attr("aria-hidden",!1),a.children().show()):a.attr("aria-hidden",!0))}),function(){var t,a;for(t=0;t<p.length;t++)a=p.attr("name"),void 0===m('input[name="'+a+'"]:checked').val()&&m("input[name="+a+"]:eq(0)").prop("checked",!0)}(),function(){var t,a,e,n,s,i;for(t=0;t<p.length;t++)if(n=(e=p.eq(t)).data("radio-tgl"),!0===e.prop("checked"))for(s=n[0],"show"!==n[1]&&(g=!0),a=0;a<b.length;a++)s===(i=b.eq(a)).data("radio-tgl")&&(i.attr("aria-hidden",g),b.children().show())}()),v=m(".js_change-hook"),x=m(".js_change-target"),v.change(function(){var t,a,e,n=m(this),s=n.attr("data-change-hook"),i=n.attr("data-change-false");for(t=0;t<x.length;t++)s===(e=(a=x.eq(t)).attr("data-change-target"))?a.prop("disabled",!1):i===e&&a.prop("disabled",!0)}),m(".js_checkbox-state").on("click",function(){var t=m(this),a=t.attr("data-checkbox-target"),e=m("#"+a);t.prop("checked")?e.prop("disabled",!1):e.prop("disabled",!0)}),m(".js_checkbox-stateMulti").on("click",function(){var t=m(this),a=t.attr("data-checkbox-target"),e=m("."+a);t.prop("checked")?e.prop("disabled",!1):e.prop("disabled",!0)}),function(){var t,a,e,n,s=m(".js_tblCheck");if(s.length)for(t=s.find("tbody").find("tr"),a=0;a<t.length;a++)(n=(e=t.eq(a)).children().eq(0).find('input[type="checkbox"]')).length&&(n.prop("checked")||e.addClass("_disabled").find("select").prop("disabled",!0))}(),m(".js_checkbox").on("click",function(){var t=m(this),a=t.closest("tr");t.prop("checked")?a.removeClass("_disabled").find("select").prop("disabled",!1):a.addClass("_disabled").find("select").prop("disabled",!0)}),function(){var t,a,e,n,s,i,l,o=m(".js_tblSelect");if(o.length){for(a=o.find(".js_checkSelect"),t=o.find("tbody").find("tr"),e=0;e<t.length;e++)s=(n=t.eq(e)).find(".js_checkSelect"),i=n.find(".js_selectShowTarget"),!0===(l=s.find(".js_selectDisabled")).prop("selected")&&(n.find("select").prop("disabled",!0),i.hide()),l.parent().prop("disabled",!1);a.change(function(){var t,a,e,n,s,i,l=m(this);a=(t=l).closest("tr"),e=t.find(".js_selectDisabled"),n=t.find(".js_selectShow"),s=a.find("select"),i=a.find(".js_selectShowTarget"),!0===e.prop("selected")?(s.prop("disabled",!0),i.hide()):!0===n.prop("selected")?(s.prop("disabled",!1),i.show()):(s.prop("disabled",!1),i.hide()),t.prop("disabled",!1)})}}(),m(".btnSort").on("click",function(){var t=m(this);t.addClass("_active"),t.hasClass("_reverse")?t.removeClass("_reverse").text("降順で並べる"):t.addClass("_reverse").text("昇順で並べる")}),(N=m(".js_checkClear")).length&&(C=N.find(".js_clear-hook")).on("click",function(){var t,a,e,n,s=m(this),i=s.closest(".js_checkClear"),l=i.find("input, select, option"),o=i.attr("data-clear-type");for(t=0;t<N.length;t++)o===(a=N.eq(t)).attr("data-clear-type")&&(e=a.find('input[type="radio"], input[type="checkbox"], select, option'),n=a.find('input[type="text"], input[type="tel"]'),e.prop({checked:!1,disabled:!0,selected:!1}),n.val("").prop("disabled",!0));C.prop("disabled",!1),l.prop("disabled",!1),s.prop("checked",!0).focus()}),function(){var t,a,e,n=m(".js_colFull");if(n.length)for(a=n.find("td").find("select"),t=0;t<a.length;t++)(e=a.eq(t)).outerWidth()<e.closest("td").width()&&e.addClass("width100")}(),function(){var t,a,e=m(".ag-gen_boxError");if(e.length)for(t=0;t<e.length;t++)(a=e.eq(t)).outerHeight()<50&&a.outerHeight(50)}();var w,T,M,j,I,D,q,E,P,B,H=function(t,a){var e=this;e.o=a,e.$root=m(t),e.$modalContent=e.$root.find(e.o.modalContent),e.$hook=e.$root.find(e.o.hook),e.$closeBtn=e.$root.find(e.o.closeBtn),e.$overlay=e.o.overlay,e.targetModalContent=e.o.targetModalContent,e.$tabIndexElm=m(e.o.tabIndexElm),e.$tabIndexElm2=m(e.o.tabIndexElm2).clone(),e.alert=e.o.alert,e.TIME=e.o.TIME,e.flag=e.o.flag};m.fn.SetModal=function(t){this.length&&(t=m.extend({modalContent:".js-modal-content",hook:".js-modal-hook",closeBtn:".js-modal-close",overlay:"#modal-overlay",targetModalContent:"",tabIndexElm:"a[href], area[href], [onclick], [tabindex], input, button, select, option, textarea",tabIndexElm2:"a[href], area[href], [onclick], [tabindex], input, button, select, option, textarea",alert:!1,TIME:300},t),this.SetModal=new H(this,t),this.SetModal.init())},H.prototype={init:function(){this.set(),this.showEvent(),this.closeBtn(),this.closeOverlay()},set:function(){m(this.$overlay).length||_.prepend('<div id="modal-overlay"></div>'),m(this.$overlay).hide()},showEvent:function(){var e=this;e.$hook.on("click",function(t){t.preventDefault();var a=m(this);if(e.targetModalContent=a.attr("href"),void 0===e.targetModalContent||!e.targetModalContent||""===e.targetModalContent)return!1;e.show(m(e.targetModalContent))})},show:function(t){m(this.$overlay).fadeIn(this.TIME),t.fadeIn(this.TIME),this.tabIndexControl(!0)},closeEvent:function(){this.closeModal(m(this.targetModalContent))},closeModal:function(t){m(this.$overlay).fadeOut(this.TIME),t.fadeOut(this.TIME),this.tabIndexControl(!1)},tabIndexControl:function(t){var n=this;t?n.$tabIndexElm.each(function(){var t=m(this);n.alert?m(n.$modalContent).find(t).length||t.attr("tabindex",-1):m(n.targetModalContent).find(t).length||t.attr("tabindex",-1)}):(n.$tabIndexElm.removeAttr("tabindex",-1),n.$tabIndexElm.map(function(t){var a=m(this);if(!m(n.targetModalContent).find(a).length){var e=n.$tabIndexElm2[t].tabIndex;a.attr("tabindex",e)}}))},closeBtn:function(){var a=this;a.$closeBtn.on("click",function(t){t.preventDefault(),a.closeEvent()})},closeOverlay:function(){var t=this;m(t.$overlay).on("click",function(){t.closeEvent()})}},m(".js-modal").SetModal(),E=m(".js-modal-hook"),P=m("#modal-overlay"),E.on("click",function(){var t,c,d,h,u,r,a,e,n,s,i,l,o,f=m(this).attr("href");for(w=m(f),T=w.find(".modal-inner"),M=T.find("a, button, input"),I=w.find(".js-modal-clear"),t=(j=w.find(".modal-step")).width(),c=j.find(".modal-step-item"),d=w.find(".js_step-item-back"),h=w.find(".js_step-item-next"),u=w.find(".js_step-item-enter"),c.width(t).removeData("back-code"),e=0;e<c.length;e++)s=(n=c.eq(e)).height(),n.attr("data-item-height",s);function b(){m('input[name="'+r+'"]:radio').change(function(){var t=m(this).val();h.removeClass("_type02").attr({"data-radio-val":t,disabled:!1}).data("radio-val",t),u.removeClass("_type02").attr({"data-radio-val":t,disabled:!1}).data("radio-val",t)})}function p(){var t=c.find("input:radio");c.removeClass("_current").attr("data-back-code",""),t.prop("checked",!1),j.height("")}l=(i=c.eq(0)).find("a, button, input"),o=i.attr("data-item-height"),D=i.attr("data-radio-type"),q=D,i.length&&T.height(250),c.removeClass("_current"),i.addClass("_current").attr("tabindex",-1).focus(),T.scrollTop(0),j.height(o),h.show().attr("disabled",!0).addClass("_type02"),d.hide(),u.hide(),M.attr("tabindex",-1),l.attr("tabindex",""),r=i.attr("data-radio-name"),a=j.width(),i.width(a),b(),h.off().on("click",function(){!function(t){var a,e,n,s,i,l,o=t.attr("data-radio-val");for(q=D,D=o,c.removeClass("_current").attr("tabindex",""),d.show(),h.addClass("_type02").attr("disabled",!0),a=0;a<c.length;a++)(e=c.eq(a)).attr("data-radio-type")===o&&(n=e.attr("data-item-height"),s=e.find("a, button, input"),r=e.attr("data-radio-name"),q!==D?e.addClass("_current").attr("data-back-code",q).attr("tabindex",-1).focus():e.addClass("_current").attr("tabindex",-1).focus(),T.scrollTop(0),j.height(n),M.attr("tabindex",-1),s.attr("tabindex",""),i=j.width(),e.width(i),void 0!==(l=m('input[name="'+r+'"]:checked').val())&&h.show().removeClass("_type02").attr({"data-radio-val":l,disabled:!1}),e.hasClass("_lastItem")&&(h.hide(),u.show().addClass("_type02").attr("disabled",!0),void 0!==l&&u.removeClass("_type02").attr({"data-radio-val":l,disabled:!1})),b())}(m(this))}),d.off().on("click",function(){!function(){var t,a,e,n,s,i,l,o,r=j.find("._current").attr("data-back-code");for(console.log(r),c.removeClass("_current").attr("tabindex",""),t=0;t<c.length;t++)(e=(a=c.eq(t)).attr("data-radio-type"))===r&&(n=a.attr("data-item-height"),s=a.find("a, button, input"),i=a.attr("data-back-code"),l=a.attr("data-radio-name"),a.addClass("_current").attr("tabindex",-1).focus(),T.scrollTop(0),M.attr("tabindex",-1),s.attr("tabindex",""),j.height(n),D=e,o=m('input[name="'+l+'"]:checked').val(),h.show().removeClass("_type02").attr({"data-radio-val":o,disabled:!1}),u.hide(),void 0!==i&&""!==i||d.hide())}()}),I.on("click",function(){p()}),P.on("click",function(){p()})}),(B=m(".js-parts")).off("keyup"),B.on("keyup",function(t){if(9!==t.keyCode&&16!==t.keyCode){var a=m(this);a.val().length>=Number(a.attr("maxlength"))&&a.next().length&&a.next().focus()}}),y.scrollTop(0)},t.RunjsFunc=function(q,j,I){var t,a,E,P,B,h,H,S,O,e,n;if(!q)return;function D(t,a){var e,n="abcdefghijklmnopqrstuvwxyz0123456789",s=n.length,i="",l=parseInt(t,10);for((isNaN(l)||0===l)&&(l=20),a=a||"";""===i;){for(e=0;e<l;e++)i+=n[Math.floor(Math.random()*s)];I.getElementById(a+i)&&(i="")}return a+i}t=I.documentElement,a=I.body,E=I.scrollingElement||t,P=q(j),B=q(I),h=q(a),H=location.hash,S=location.pathname,O=location.search,e=t.getAttribute("lang"),n="ja"===e,q(function(){q(".ag-gen_tab").setTab(),q(".ag-gen_toggle01").setToggle(),q(".ag-gen_searchOptions").setToggle({className:{hdg:"btnOption",ctrls:"controls",state:"status",cont:"optionContents"}}),q('[data-cal="true"]').setCalendar()}),q.fn.setTab=function(t){var M,j,I,D;if(0===this.length)return this;return M=q.extend({className:{tabList:"tabList",tabGroup:"tabPanels",tabPanel:"tabPanel"},dataName:{defaultTab:"tab-default",lsKeyTab:"tab-lskey"},localStorageKeyName:"data-tab",urlQueryName:"tabid"},t),j=H?H.split("#")[1]:null,D=M.localStorageKeyName,I=JSON.parse(function(t){try{return localStorage.getItem(t)}catch(t){}return null}(D))||{},this.each(function(t){var a,r,e,c,n,s=q(this),i=s.find("."+M.className.tabList),l=i.find("li"),o=l.find("a"),d=s.find("."+M.className.tabGroup),h=d.find("."+M.className.tabPanel),u=[],f=[],b=0,p=s.data(M.dataName.defaultTab),m=s.data(M.dataName.lsKeyTab),g=I?I[m]:null,v=M.urlQueryName?new RegExp("("+M.urlQueryName+"=[a-zA-Z0-9\\-\\_]+)"):null,x=O.match(v)?O.match(v)[0]:null,C=x?x.split(M.urlQueryName+"=")[1]:null,N=!0,y=l.length,k=y-1;function _(t){o.attr("aria-selected",!1).prop("tabindex",-1),h.attr("aria-hidden",!0).prop("tabindex",-1),a=l.eq(b),(r=a.find("a")).attr("aria-selected",!0).prop("tabindex",0),h.eq(b).attr("aria-hidden",!1).prop("tabindex",0),i.attr("aria-activedescendant",r.attr("id")),m&&D&&"click"===t&&(I[m]=r.attr("aria-controls"),function(t,a){try{localStorage.setItem(t,a)}catch(t){}}(D,JSON.stringify(I)))}function w(t){var a,e,n,s,i,l,o;if("load"===t)return b=c,void _(t);n="Tab"===t.key,s="ArrowLeft"===t.key||"Left"===t.key,i="ArrowUp"===t.key||"Up"===t.key,l="ArrowRight"===t.key||"Right"===t.key,o="ArrowDown"===t.key||"Down"===t.key,!n&&N&&(t.ctrlKey||t.altKey||t.shiftKey||(N=!1,a=q(t.target),e=a.parent(),b=e.index(),s||i?(t.preventDefault(),--b<0&&(b=k)):(l||o)&&(t.preventDefault(),k<++b&&(b=0)),_(t.type),r.focus(),N=!0))}function T(t){var a,e;a="click"===t.type&&S===t.currentTarget.pathname?t.currentTarget.href.split("#")[1]:(H=location.hash)?H.split("#")[1]:null,0!==(e=h.find("#"+a)).length&&(c=e.parents("."+M.className.tabPanel).index(),w(t.type),setTimeout(function(){E.scrollTop=e[0].offsetTop},200))}for(s.attr("role","presentation"),i.attr("role","tablist"),l.attr("role","presentation"),o.attr("role","tab").removeAttr("href"),d.attr("role","presentation"),h.attr("role","tabpanel"),n=0;n<y;n++)e=l.eq(n).find("a").attr("id"),u.push(e||"tab-"+t+"-"+n),f.push(h.eq(n).attr("id")),l.eq(n).find("a").attr({"aria-controls":f[n],id:u[n]}),h.eq(n).attr("aria-labelledby",u[n]);0<=u.indexOf(C)?b=u.indexOf(C):0<=f.indexOf(C)?b=f.indexOf(C):0<=u.indexOf(j)?b=u.indexOf(j):0<=f.indexOf(j)?b=f.indexOf(j):0<=u.indexOf(g)?b=u.indexOf(g):0<=f.indexOf(g)?b=f.indexOf(g):p&&(b=p),_(),l.on("click keydown","a",w),B.on("click",'[href*="#"]',T),P.on("load pageshow hashchange",T)})},q.fn.setToggle=function(t){var M;return 0===this.length?this:(M=q.extend({className:{hdg:"hdg",ctrls:"controls",state:"status",cont:"content"},accessibleName:n?{open:"開く",close:"閉じる"}:{open:"Open",close:"Close"},btnClose:{setting:!1,className:{btn:"btn-close",label:"btn-close-label"},accessibleName:n?"閉じる":"Close"},prefix:{randomName:"toggle-"},breakPoint:""},t),this.each(function(){var t,e,n,a,s,i,l,o,r,c,d,h,u,f,b,p=q(this),m=p.find("."+M.className.hdg),g=m.find("."+M.className.ctrls),v=p.find("."+M.className.cont),x=m.length,C=!1;function N(){return""!==M.breakPoint&&!r.matches}function y(t,a){"0s"===t.css("transition-duration")?(t.attr(a,!0),C=!1):t.one("transitionend",function(){t.attr(a,!0),"aria-expanded"===a&&t.css("height","auto"),C=!1})}function k(t,a){C||(C=!0,t.find("."+M.className.state).text(M.accessibleName.close),t.attr("aria-expanded",!0),a.attr("aria-hidden",!1).css("height",a[0].scrollHeight),y(a,"aria-expanded"))}function _(t,a){C||(C=!0,t.attr("aria-expanded",!1),t.find("."+M.className.state).text(M.accessibleName.open),a.css("height",a[0].scrollHeight),a.attr("aria-expanded",!1).css("height",0),y(a,"aria-hidden"))}function w(t){var a,e,n;N()||(a=q(t.currentTarget),e="Enter"===t.key,n=" "===t.key||"Spacebar"===t.key,("click"===t.type||(e||n)&&a.is('[role="button"]'))&&(t.preventDefault(),h=a.attr("aria-controls"),"true"===a.attr("aria-expanded")?_(q('[aria-controls="'+h+'"].'+M.className.ctrls),q("#"+h)):k(q('[aria-controls="'+h+'"].'+M.className.ctrls),q("#"+h))))}function T(){for(b=0;b<x;b++)s=g.eq(b),i=s.find("."+M.className.state),l=v.eq(b),c=i.text()===M.accessibleName.close,N()?(s.removeAttr("aria-expanded"),i.attr("aria-hidden",!0),l.removeAttr("aria-expanded aria-hidden").css("height",""),s.is("span")&&s.removeAttr("role tabindex"),M.btnClose.setting&&t.attr("aria-hidden",!0)):(s.attr("aria-expanded",c?"true":"false"),i.attr("aria-hidden",!1),l.attr({"aria-expanded":c?"true":"false","aria-hidden":c?"false":"true"}).css("height",c?"auto":0),s.is("span")&&s.attr("role","button").prop("tabindex",0),M.btnClose.setting&&t.attr("aria-hidden",!1))}for(f=0;f<x;f++)a=m.eq(f),s=g.eq(f),l=v.eq(f),c="false"===l.attr("aria-hidden"),0===s.length&&(""===M.breakPoint?a.wrapInner('<button type="button" class="'+M.className.ctrls+'"></button>'):a.wrapInner('<span class="'+M.className.ctrls+'"></span>')),a.find("."+M.className.ctrls).append('<span class="'+M.className.state+'">'+M.accessibleName[c?"close":"open"]+"</span>");for(M.btnClose.setting&&(v.append('<button type="button" aria-expanded="true" class="'+M.btnClose.className.btn+'"><span class="'+M.btnClose.className.label+'">'+M.btnClose.accessibleName+"</span></button>"),t=v.find("."+M.btnClose.className.btn),v.on("click","."+M.btnClose.className.btn,function(t){var a=t.currentTarget.getAttribute("aria-controls");_(e=q('[aria-controls="'+a+'"].'+M.className.ctrls),q("#"+a)),e[0].scrollIntoView(),e.focus()})),g=m.find("."+M.className.ctrls),f=0;f<x;f++)s=m.eq(f).find("."+M.className.ctrls),l=v.eq(f),o=l.find("."+M.btnClose.className.btn),(h=l.attr("id"))?(s.attr("aria-controls",h),M.btnClose.setting&&o.attr("aria-controls",h)):(u=D(5,M.prefix.randomName),l.attr("id",u),s.attr("aria-controls",u),M.btnClose.setting&&o.attr("aria-controls",u));if(""!==M.breakPoint&&(r=j.matchMedia(M.breakPoint)),""!==H&&!N())for(d=H.split("#")[1],f=0;f<x;f++)s=m.eq(f).find("."+M.className.ctrls),(l=v.eq(f)).attr("id")===d&&(l.attr("aria-hidden",!1),s[0].scrollIntoView(),s.focus());""!==M.breakPoint&&r.addListener(T),T(),m.on({click:w,keydown:w},"."+M.className.ctrls),B.on("click",'[href*="#"]',function(t){var a;N()||(d=t.currentTarget.href.split("#")[1],0!==(a=q(I.getElementById(d))).length&&t.target.pathname===S&&(a.attr("id")===d&&a.hasClass(M.className.hdg)?(e=a.find("."+M.className.ctrls),n=q("#"+e.attr("aria-controls")),k(e,n)):a.attr("id")===d&&a.hasClass(M.className.cont)?k(e=q('[aria-controls="'+(n=a).attr("id")+'"].'+M.className.ctrls),n):a.parents().hasClass(M.className.cont)&&(n=q("#"+d).parents("."+M.className.cont),k(e=q('[aria-controls="'+n.attr("id")+'"].'+M.className.ctrls),n))))})}))},q.fn.setCalendar=function(t){var _;return 0===this.length?this:(_=q.extend({sticky:!0,formCal:{setting:!1,btn:'<button type="button"></button>'},uiCal:{className:{wrap:"cal-wrap-1",content:"cal-content-1",inner:"cal-inner-1",head:"cal-head-1",label:"cal-head-label-1",btnColse:"cal-btn-colse-1",controls:{btnToday:"cal-btn-today",btnPrevMonth:"cal-btn-prev-month",btnNextMonth:"cal-btn-next-month",btnPrevYear:"cal-btn-prev-year",btnNextYear:"cal-btn-next-year"},overlay:"cal-overlay",open:"is-open"}},accessibleName:{dialogLabel:"カレンダー入力",year:"年",month:"月",day:"日",daw:"曜日",aDaw:{sun:"日",man:"月",tue:"火",wed:"水",thu:"木",fri:"金",sat:"土"},separator:"/",btnColse:"閉じる（Esc キー）",btnToday:"今日",btnPrevMonth:"前の月",btnNextMonth:"次の月",btnPrevYear:"前の年",btnNextYear:"次の年"}},t),this.each(function(){var t,s,r,g,i,v,a,x,C,N,y,k,e=q(this),n=e.find("input");function l(t,a){var e,n,s,i,l,o,r,c,d,h,u=new Date,f=u.getFullYear(),b=u.getMonth()+1,p=u.getDate(),m=[_.accessibleName.aDaw.sun+_.accessibleName.daw,_.accessibleName.aDaw.man+_.accessibleName.daw,_.accessibleName.aDaw.tue+_.accessibleName.daw,_.accessibleName.aDaw.wed+_.accessibleName.daw,_.accessibleName.aDaw.thu+_.accessibleName.daw,_.accessibleName.aDaw.fri+_.accessibleName.daw,_.accessibleName.aDaw.sat+_.accessibleName.daw];if(a&&(C=x=0),y=parseInt(f,10)+parseInt(x,10),k=parseInt(b,10)+parseInt(C,10),N=y+_.accessibleName.year+k+_.accessibleName.month,e=new Date(y,k-1,1),n=new Date(y,k,0),s=e.getDay(),i=n.getDate(),l=!0,o=1,t){if(null===v)return;v.val(y+_.accessibleName.separator+k+_.accessibleName.separator+t).change()}else for(c=0;c<6;c++){for(d=I.createElement("tr"),r=0;r<7;r++)0===c&&s===r&&(l=!1),i<o&&(l=!0),h=I.createElement("td"),l||0!==x||0!==C||o!==p||(h.setAttribute("aria-current","date"),h.setAttribute("title",_.accessibleName.btnToday)),l||(h.setAttribute("aria-label",y+_.accessibleName.year+k+_.accessibleName.month+o+_.accessibleName.day+m[r]),h.tabIndex=0),h.innerHTML=l?"":o++,d.appendChild(h);g.append(d)}}function o(){g.find("tr").remove()}function c(){var t=q('[data-cal="true"]');s.attr("aria-hidden",!0),t.find("."+_.uiCal.className.open).focus(),t.find("."+_.uiCal.className.open).removeClass(_.uiCal.className.open),o(),v=null,P.off("focus.calendar"),_.sticky&&(P.off("scroll.calendar resize.calendar"),r.attr("style",""))}function d(t){var a,e,n,s,i,l,o;_.sticky&&(e=(a=t).offset().top,n=a.offset().left,s=a.outerHeight(!0),i=r.outerHeight(),l=E.scrollTop,o=j.innerHeight,(l+o)/2<e+s?r.css("top",e-l-i):e+s<(l+o)/2&&r.css("top",e-l+s),r.css({left:n,right:"auto",transform:"translateY(0)"}),o<i+100&&r.css({top:"",transform:""}))}0!==n.length&&(a='<div class="'+_.uiCal.className.wrap+'" role="dialog" aria-label="'+_.accessibleName.dialogLabel+'" aria-hidden="true"><div class="'+_.uiCal.className.content+'"><div class="'+_.uiCal.className.inner+'"><div class="'+_.uiCal.className.head+'"><p class="'+_.uiCal.className.label+'" role="text" aria-atomic="true" aria-live="off" tabindex="0"></p><p class="'+_.uiCal.className.btnColse+'"><button id="calCloseButton" name="calCloseButton" type="button"><span class="label">'+_.accessibleName.btnColse+'</span></button></p></div><ul><li><button id="calPrevYearButton" name="calPrevYearButton" type="button" class="'+_.uiCal.className.controls.btnPrevYear+'"><span class="label">'+_.accessibleName.btnPrevYear+'</span></button></li><li><button id="calPrevMonthButton" name="calPrevMonthButton" type="button" class="'+_.uiCal.className.controls.btnPrevMonth+'"><span class="label">'+_.accessibleName.btnPrevMonth+'</span></button></li><li><button id="calTodayButton" name="calTodayButton" type="button" class="'+_.uiCal.className.controls.btnToday+'"><span class="label">'+_.accessibleName.btnToday+'</span></button></li><li><button id="calNextMonthButton" name="calNextMonthButton" type="button" class="'+_.uiCal.className.controls.btnNextMonth+'"><span class="label">'+_.accessibleName.btnNextMonth+'</span></button></li><li><button id="calNextYearButton" name="calNextYearButton" type="button" class="'+_.uiCal.className.controls.btnNextYear+'"><span class="label">'+_.accessibleName.btnNextYear+'</span></button></li></ul><table><thead><tr><th scope="col">'+_.accessibleName.aDaw.sun+'</th><th scope="col">'+_.accessibleName.aDaw.man+'</th><th scope="col">'+_.accessibleName.aDaw.tue+'</th><th scope="col">'+_.accessibleName.aDaw.wed+'</th><th scope="col">'+_.accessibleName.aDaw.thu+'</th><th scope="col">'+_.accessibleName.aDaw.fri+'</th><th scope="col">'+_.accessibleName.aDaw.sat+'</th></tr></thead><tbody></tbody></table></div></div><div class="'+_.uiCal.className.overlay+'" role="presentation" aria-hidden="true" tabindex="-1"></div></div>',0===q("."+_.uiCal.className.wrap).length&&h.append(a),_.formCal.setting&&(t=q(_.formCal.btn),e.append(t)),s=q("."+_.uiCal.className.wrap),r=s.find("."+_.uiCal.className.content),g=s.find("tbody"),v=null,C=x=0,1,12,(i=s.find("."+_.uiCal.className.head).find("."+_.uiCal.className.label)).text(N).attr("aria-label",N),e.on("click","button",function(){var t=q(this),a=!1;t.addClass(_.uiCal.className.open);var e=t.parents('[data-cal-from="true"]').find("input"),n=t.parents('[data-cal-to="true"]').find("input");v=0!==e.length?e:n,l("",!0),s.attr("aria-hidden",!1),i.text(N).attr("aria-label",N).focus(),d(v),P.on("scroll.calendar resize.calendar",function(){!1!==a&&clearTimeout(a),a=setTimeout(function(){d(v)},200)}).on("focus.calendar",function(){i.focus()})}),s.on("keydown",function(t){var a=q(t.target),e=a.parents("."+_.uiCal.className.wrap),n="Tab"===t.key;t.shiftKey?n&&a.is("."+_.uiCal.className.wrap)?(t.preventDefault(),a.find('[tabindex="0"]').last().focus()):n&&a.is("."+_.uiCal.className.label)&&(t.preventDefault(),e.find('[tabindex="0"]').last().focus()):t.ctrlKey||t.altKey||t.shiftKey||n&&a.is(q('[tabindex="0"]').last())&&(t.preventDefault(),e.find("."+_.uiCal.className.label).focus())}),s.on("click","."+_.uiCal.className.overlay,c),s.find("."+_.uiCal.className.btnColse).on("click","button",c),s.find("ul").on({focus:function(){i.attr("aria-live","polite")},blur:function(){i.attr("aria-live","off")},click:function(){var t;k&&((t=q(this)).hasClass(_.uiCal.className.controls.btnToday)?C=x=0:t.hasClass(_.uiCal.className.controls.btnPrevMonth)?(C--,1===k&&(x--,C+=12)):t.hasClass(_.uiCal.className.controls.btnNextMonth)?(C++,12===k&&(x++,C-=12)):t.hasClass(_.uiCal.className.controls.btnPrevYear)?x--:t.hasClass(_.uiCal.className.controls.btnNextYear)&&x++,o(),l("",!1),i.text(N).attr("aria-label",N),t.hasClass(_.uiCal.className.controls.btnToday)&&s.find('[aria-current="date"]').focus())}},"button"),s.find("table").on("click keydown",'[tabindex="0"]',function(t){var a="Enter"===t.key,e=" "===t.key||"Spacebar"===t.key;("click"===t.type||a||e)&&(t.preventDefault(),l(q(t.currentTarget).text(),!1),c())}))}))}}});